
<!DOCTYPE html>
<html>
<head>
  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <title>第九章 流程控制 &mdash; C Language Getting Started Guide</title>

    <link rel="shortcut icon" href="../img/favicon.ico">
    <link rel="stylesheet" href="../css/alabaster.css" type="text/css">
    <link rel="stylesheet" href="../css/alabaster-overrides.css" type="text/css">

    

    

    

    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

    
  
</head>
<body>

  <div class="document">
    <div class="documentwrapper">
      <div class="bodywrapper">
        <div class="body" role="main">
          
            <h1 id="_1">流程控制<a class="headerlink" href="#_1" title="Permanent link">¶</a></h1>
<p>流程控制的几大类：</p>
<ol>
<li>顺序结构</li>
<li>选择结构</li>
<li>循环结构</li>
</ol>
<h2 id="_2">顺序程序设计<a class="headerlink" href="#_2" title="Permanent link">¶</a></h2>
<p>顺序结构是一种最为简单的结构，如以下示例：</p>
<p>输入圆的半径，计算并输出圆的面积</p>
<p>流程： <code>输入半径</code> --&gt; <code>计算面积</code> --&gt; <code>输出</code></p>
<p>传统的流程图表示方法</p>
<p><img alt="1" src="../img/chapter-9/1.png" /></p>
<p>c代码为：</p>
<pre><code class="c">#include &lt;stdio.h&gt;
#define PI 3.14
int main(void)
{
    float s = 0;  // 圆的面积
    int r = 0;  // 半径
    printf(&quot;请输入圆的半径:&quot;);
    scanf(&quot;%d&quot;, &amp;r);
    s = PI * r * r;
    printf(&quot;圆的面积为：%lf&quot;, s);
    return 0;
}
</code></pre>

<h2 id="_3">选择结构程序设计<a class="headerlink" href="#_3" title="Permanent link">¶</a></h2>
<h3 id="if-else">if else语句<a class="headerlink" href="#if-else" title="Permanent link">¶</a></h3>
<pre><code class="c">#include &lt;stdio.h&gt;

int main(void)
{
    int i = 0;
    printf(&quot;请输入一个整数: &quot;);
    scanf(&quot;%d&quot;, &amp;i);
    if(i &lt; 10) {
        printf(&quot;I小于10&quot;);
    } else if(i &lt; 20) {
        printf(&quot;I小于20&quot;);
    } else {
        printf(&quot;I大于20&quot;);
    }
    return 0;
}
</code></pre>

<pre><code class="c">#include &lt;stdio.h&gt;

int main(void)
{
    int i = 0;
    printf(&quot;请输入一个整数: &quot;);
    scanf(&quot;%d&quot;, &amp;i);
    if(i &lt; 10)
        ; // 空语句
    else if(i &lt; 15);  // 空语句
    else if(i &lt; 20)
        printf(&quot;小于20&quot;);
    else if(i &lt; 30)
        {
            if (i==25)
                printf(&quot;等于25&quot;);
            else
                printf(&quot;小于30&quot;);
        }
    else
        printf(&quot;大于30&quot;);
    return 0;
}
</code></pre>

<h3 id="switch">switch语句<a class="headerlink" href="#switch" title="Permanent link">¶</a></h3>
<pre><code class="c">#include &lt;stdio.h&gt;

int main(void)
{
    // 根据用户输入的月份来输出月份对应的天数
    int month;
    printf(&quot;请输入月份，我来判断天数&quot;);
    scanf(&quot;%d&quot;,&amp;month);
    switch(month)
    {
        case 1:
            printf(&quot;一月有31天&quot;);
            break;
        case 2:
            printf(&quot;二月有28/天&quot;);
            break;
        case 3:
            printf(&quot;三月有31/天&quot;);
            break; // 如果没有break语句，后面的case都为真；
        case 4:
            printf(&quot;四月有30/天&quot;);
            break;
        default:
            printf(&quot;当前程序暂时只能判断1-4月的情况!\n&quot;);
            break;
    }
    return 0;
}
</code></pre>

<p><strong>注意点</strong></p>
<ol>
<li><code>case</code>后面各个常量或变量表达式的值必须各不相同，类型一般为整型；</li>
<li><code>case</code>后面要加<code>break</code>，否则程序会继续往下执行；</li>
<li><code>default</code>分支一般用于错误处理，不要作为其中一个处理分之；</li>
</ol>
<h2 id="_4">循环结构程序设计<a class="headerlink" href="#_4" title="Permanent link">¶</a></h2>
<h3 id="while">while<a class="headerlink" href="#while" title="Permanent link">¶</a></h3>
<ul>
<li>基本语法</li>
</ul>
<pre><code class="c">whilt(循环条件){
  循环操作语句
}
</code></pre>

<ul>
<li>使用循环计算1-100的累加和</li>
</ul>
<pre><code class="c"># include &lt;stdio.h&gt;

int main(void)
{
    int i = 0;
    int sum = 0;
    while(i&lt;101)
    {
        sum+=i;
        i++;
    }
    printf(&quot;结果是: %d&quot;,sum);
    return 0;
}
</code></pre>

<ul>
<li>循环输出数组中的值</li>
</ul>
<pre><code class="c">#include &lt;stdio.h&gt;

int main(void)
{
    int a[10] = {1,2,3,4,5,6,7,8,9,10};
    int i = 0;
    while(i&lt;10){
        printf(&quot;%d\n&quot;,a[i]);
        i++;
    }
    return 0;
}
</code></pre>

<h3 id="dowhile">do...while<a class="headerlink" href="#dowhile" title="Permanent link">¶</a></h3>
<ul>
<li>基本语法</li>
</ul>
<pre><code class="c">do {
  循环操作
}while(循环条件);
</code></pre>

<ul>
<li>
<p>特点：先执行，再判断</p>
</li>
<li>
<p>先执行一遍循环操作；</p>
</li>
<li>符合条件，循环继续执行；</li>
<li>
<p>否则循环推出；</p>
</li>
<li>
<p>使用do-while结构打印菜单</p>
</li>
</ul>
<p>只能选择1-3之间的数字</p>
<pre><code class="c"># include &lt;stdio.h&gt;

void main()
{
    int choice;
    // 打印游戏菜单
    printf(&quot;性格测试：\n&quot;);
    printf(&quot;如果你是一位君王，对于身边的伴侣您希望？\n&quot;);
    printf(&quot;1. 只要有一位真爱的妻子\n&quot;);
    printf(&quot;2. 可以两位以上的爱人\n&quot;);
    printf(&quot;3. 拥有三千佳丽\n&quot;);
    do{ // 如果输入错入，将一直循环输入
        printf(&quot;请选择：&quot;);
        scanf(&quot;%d&quot;,&amp;choice);
        if(!(choice&gt;=1 &amp;&amp; choice&lt;=3)){
            printf(&quot;只能输入1-3之间的数字，请重新输入！\n&quot;);
        }
    }while(!(choice&gt;=1 &amp;&amp; choice&lt;=3)); //执行循环
    // 如果执行到这里，证明用户的输入是正确的，在1-3之间
    switch(choice)
    {
    case 1:
        printf(&quot;你选择了生命中的唯一，然而老旧军早已看穿了一切\n&quot;);
        break;
    case 2:
        printf(&quot;你个花心大萝卜\n&quot;);
        break;
    case 3:
        printf(&quot;呵呵呵呵，10元/包，江浙沪包邮\n&quot;);
        break;
    }
}
</code></pre>

<ul>
<li>将一个数字进行反转</li>
</ul>
<pre><code class="c"># include &lt;stdio.h&gt;

void main()
{
    int num = 1234;
    printf(&quot;个位：%d\n&quot;,num % 10);
    printf(&quot;十位：%d\n&quot;,num / 10 %10);
    printf(&quot;百位：%d\n&quot;,num / 100 %10);
    printf(&quot;千位：%d\n&quot;,num / 1000 %10);
    // 规律：除10再模10
    int temp; // 临时变量
    while(num&gt;0){
        printf(&quot;%d\n&quot;,num%10);
        num /= 10;  // 取出个位数字后，立即去掉个位数字
    }
}
</code></pre>

<ul>
<li>使用不同的循环结构实现数字反转</li>
</ul>
<p>方式1</p>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    int value, right_num;
    do {
        printf(&quot;\n请输入一个数：&quot;);
        scanf(&quot;%d&quot;, &amp;value);
        if (value &lt;= 0) {
            printf(&quot;必须是正数！&quot;);
        }
    } while (value &lt;= 0);
    printf(&quot;\n反转后的数为：&quot;);
    do {
        right_num = value % 10;
        printf(&quot;%d&quot;, right_num);
        value = value / 10;
    } while (value != 0);
    printf(&quot;\n&quot;);

}
</code></pre>

<p>方式2</p>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    int value, right_num;
    value = 0;
    while (value &lt;= 0) {
        printf(&quot;\n请输入一个数：&quot;);
        scanf(&quot;%d&quot;, &amp;value);
        if (value &lt;= 0) {
            printf(&quot;该数字必须是正数&quot;);
        }
        printf(&quot;\n反转后的数为：&quot;);
    }
    while (value != 0) {
        right_num = value % 10;
        printf(&quot;%d&quot;, right_num);
        value = value / 10;
    }
    printf(&quot;\n&quot;);

}
</code></pre>

<h3 id="for">for<a class="headerlink" href="#for" title="Permanent link">¶</a></h3>
<ul>
<li>语法</li>
</ul>
<pre><code class="c">for(表达式1;表达式2;表达式3){
  语句;
}
</code></pre>

<ol>
<li>表达式1：通常是为循环变量赋初始值，可省略，例如：i=0</li>
<li>表达式2：循环条件，是否继续执行循环，可省略，例如：i&gt;10</li>
<li>表达式3：更新循环变量的值，可省略，例如：i++</li>
<li>分号：用来分割三个表达式，不可省略，<code>for(;;)</code>是死循环</li>
</ol>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    const int N = 20;  // 定义一个常量，该常量只能读取不能被修改，且名称必须为大写
    int i;
    for (i = 0; i &lt; N; i++) {  // 输出之后再执行i++
        printf(&quot;%d\t&quot;, i);
    }
}
</code></pre>

<ul>
<li>循环输入6个月的工资数，计算半年内的平均工资</li>
</ul>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    const int MONTH_COUNT = 6;  // 月数
    int i;
    double salary;  // 工资
    double salary_total = 0;  // 6个月的总工资
    double salary_avg;  // 6个月的平均工资
    for (i = 1; i &lt;= MONTH_COUNT; i++) {
        printf(&quot;请输入你第%d个月的工资：&quot;, i);
        scanf(&quot;%lf&quot;, &amp;salary);  // 接收当前月的工资
        salary_total += salary; // 工资累加
    }
    salary_avg = salary_total / MONTH_COUNT;
    printf(&quot;半年内的平均工资是: %.2lf&quot;, salary_avg);
}
</code></pre>

<ul>
<li>打印简易加法表</li>
</ul>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    int num;
    printf(&quot;请输入一个数字： &quot;);
    scanf(&quot;%d&quot;, &amp;num);
    for (int i = 0; i &lt; num; ++i) {
        printf(&quot;%d + %d = %d&quot;, i, (num - i), num);
        if (!(i % 2)) {
            printf(&quot;\t&quot;);
        } else {
            printf(&quot;\n&quot;);
        }
    }
}
</code></pre>

<h3 id="breakcontinue">break和continue<a class="headerlink" href="#breakcontinue" title="Permanent link">¶</a></h3>
<ul>
<li>break语句的作用</li>
</ul>
<p>跳出循环，只针对switch和循环(while,for)结构，执行循环之后的语句;</p>
<ul>
<li>循环输入玩家的年龄，如果年龄为负则停止输入，提示输入错误。</li>
</ul>
<p>一旦输入的值为负，使用break跳出循环</p>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    int age;
    for (;;) {
        printf(&quot;请输入你的年龄：&quot;);
        scanf(&quot;%d&quot;, &amp;age);
        if (age &lt; 0) {
            printf(&quot;输出错误！&quot;);
            break;
        }
    }
}
</code></pre>

<ul>
<li>猜商品价格，5次内猜对有奖励</li>
</ul>
<pre><code class="c">#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;stdlib.h&gt;

void main() {
    int price;  // 要用户猜的商品价格
    srand((unsigned) time(NULL));  // unsigned无符号
    price = rand() % 10000;  // 获取四个整型
    printf(&quot;%d\n&quot;, price);
    int guessPrice;  // 用户猜测的商品价格
    int count = 0;  // 用户记录猜的次数
    for (;;) {
        ++count;
        printf(&quot;请输入你猜测的价格：&quot;);
        scanf(&quot;%d&quot;, &amp;guessPrice);
        if (guessPrice &gt; price) {
            printf(&quot;猜大了！\n&quot;);
        } else if (guessPrice &lt; price) {
            printf(&quot;猜小了！\n&quot;);
        } else {
            printf(&quot;猜测成功！\n&quot;);
            if (count &lt;= 5) {
                printf(&quot;猜测次数小于5次，有奖励！&quot;);
            }
            break;
        }
    }
    printf(&quot;你一共猜了%d\n&quot;, count);
}
</code></pre>

<ul>
<li>循环录入用户性别，只能使用字符m/M(男)或f/F(女)，一单输入错误，结束录入，要求统计录入正确的次数</li>
</ul>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    int count = 0;  // 计算录入正确的次数
    char sex; // 定义性别字符
    while (1) {
        printf(&quot;请输入性别字符： &quot;);
        scanf(&quot;%c&quot;, &amp;sex);
        fflush(stdin); // 记得清空缓冲区，避免错误
        if (sex != 'm' &amp;&amp; sex != 'M' &amp;&amp; sex != 'f' &amp;&amp; sex != 'F') {
            break;
        }
        count++;
    }
    printf(&quot;一共录入次数为：%d&quot;, count);
}
</code></pre>

<ul>
<li>continue语句</li>
</ul>
<p>跳过本次循环，继续下一次循环</p>
<blockquote>
<p>如果for循环遇到continue语句，下一步回跳到更新循环变量，然后在进入下一次循环</p>
</blockquote>
<ul>
<li>循环输入5个玩家的年龄，统计年龄为负数的录入次数</li>
</ul>
<p>如果录入正确则跳过，输入错误则计数器加1</p>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    int age = 0;  // 计算录入正确的次数
    int count = 0; // 计数器
    for (int i = 0; i &lt; 5; ++i) {
        printf(&quot;请输入玩家年龄： &quot;);
        scanf(&quot;%d&quot;, &amp;age);
        if (age &gt;= 0) { // 正确
            continue;
        }
        count++;
    }
    printf(&quot;错误的年龄次数为：%d次\n&quot;, count);
}
</code></pre>

<ul>
<li>求1-100之间的偶数和</li>
</ul>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    int num = 0; // 总和
    for (int i = 0; i &lt;= 100; i += 2) {
        num += i;
    }
    printf(&quot;总和是： %d&quot;, num);
}
</code></pre>

<ul>
<li>嵌套循环之打印星号图形</li>
</ul>
<p>用<code>*</code>输出一个葵形图形</p>
<pre><code class="c">#include &lt;stdio.h&gt;

void main() {
    for (int i = 0; i &lt; 4; i++) {  // 外层循环控制行数和换行
        for (int k = 0; k &lt;= 2 - i; ++k) {
            printf(&quot; &quot;);
        }
        for (int j = 0; j &lt;= i * 2; j++) {  // 内层循环控制列数和列符号
            // 挖空的原理：判断什么时候打印星号，什么时候打印空格
            printf(&quot;*&quot;);  // 列符号
        }
        printf(&quot;\n&quot;);  // 换行
    }
}
</code></pre>
            
          
        </div>
      </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
        
  <p class="logo">
    <a href="..">
      <img class="logo" src="../logo.png" title="C Language Getting Started Guide">
    </a>
  </p>
  



        
          



<h3>Table Of Contents</h3>

<nav>
  
  
    <ul>
    
      <li><a href="#_2">顺序程序设计</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#_3">选择结构程序设计</a></li>
      <ul>
    
      <li><a href="#if-else">if else语句</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#switch">switch语句</a></li>
      <ul>
    
  </ul>
    
  </ul>
    
      <li><a href="#_4">循环结构程序设计</a></li>
      <ul>
    
      <li><a href="#while">while</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#dowhile">do...while</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#for">for</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#breakcontinue">break和continue</a></li>
      <ul>
    
  </ul>
    
  </ul>
    
  </ul>
  

  
    <hr>
    <ul>
      
        <li class="toctree-l1"><a href="https://github.com/anshengme/C-Language-Getting-Started-Guide">Fork me on GitHub</a></li>
      
    </ul>
  
</nav>
          
  <h3>Related Topics</h3>
  <ul>
    
      <li>Previous: <a href="../chapter-8/" title="previous chapter">
        第八章 输入输出
      </a></li>
    
    
      <li>Next: <a href="../chapter-10/" title="next chapter">
        第十章 函数
      </a></li>
    
  </ul>

        
        <div id="searchbox" style="display: none;" role="search">
  <h3>Quick search</h3>
  <form class="search" action="../search.html" method="get">
    <input name="q" type="text">
    <input value="Go" type="submit">
  </form>
  <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
  </p>
</div>
<script type="text/javascript">
  document.getElementById("searchbox").style.display = "block";
</script>
      </div>
    </div>
    <div class="clearer"></div>
  </div>

  
    <div class="footer">
      
        &copy; 2017 ansheng
      
      
        |
        Powered by <a href="http://www.mkdocs.org">MkDocs 0.16.3</a>
        &amp; <a href="https://github.com/iamale/mkdocs-alabaster">Alabaster</a>
      
    </div>
  

  <!--
  MkDocs version      : 0.16.3
  Docs Build Date UTC : 2017-09-28 03:47:49
  -->
</body>
</html>